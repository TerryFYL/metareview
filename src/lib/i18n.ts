// Simple i18n system for MetaReview
// Default language: Chinese (target audience: Chinese medical researchers)

export type Lang = 'zh' | 'en';

const translations = {
  // Header
  'header.subtitle.zh': '免费在线 Meta 分析工具，5 分钟从数据到森林图',
  'header.subtitle.en': 'Free online meta-analysis tool. From data to forest plot in 5 minutes.',
  'header.loadDemo.zh': '加载示例',
  'header.loadDemo.en': 'Load Demo',
  'header.newAnalysis.zh': '新建分析',
  'header.newAnalysis.en': 'New Analysis',

  // Tabs
  'tab.input.zh': '数据录入',
  'tab.input.en': 'Data Input',
  'tab.results.zh': '分析结果',
  'tab.results.en': 'Results',
  'tab.forest.zh': '森林图',
  'tab.forest.en': 'Forest Plot',
  'tab.funnel.zh': '漏斗图',
  'tab.funnel.en': 'Funnel Plot',
  'tab.sensitivity.zh': '敏感性分析',
  'tab.sensitivity.en': 'Sensitivity',

  // Data Input
  'input.title.zh': '分析标题',
  'input.title.en': 'Analysis Title',
  'input.titlePlaceholder.zh': '例：阿司匹林 vs 安慰剂预防心血管事件',
  'input.titlePlaceholder.en': 'e.g., Aspirin vs Placebo for Cardiovascular Events',
  'input.pico.zh': 'PICO 框架',
  'input.pico.en': 'PICO Framework',
  'input.settings.zh': '分析设置',
  'input.settings.en': 'Analysis Settings',
  'input.measure.zh': '效应量指标',
  'input.measure.en': 'Effect Measure',
  'input.model.zh': '分析模型',
  'input.model.en': 'Model',
  'input.studyData.zh': '研究数据',
  'input.studyData.en': 'Study Data',
  'input.runAnalysis.zh': '运行 Meta 分析',
  'input.runAnalysis.en': 'Run Meta-Analysis',
  'input.minStudies.zh': '至少需要 2 项研究才能进行 Meta 分析。',
  'input.minStudies.en': 'At least 2 studies are required for meta-analysis.',
  'input.analysisFailed.zh': '分析失败',
  'input.analysisFailed.en': 'Analysis failed',
  'input.invalidBinaryEvents.zh': '研究 "{name}"：事件数不能大于总数，且不能为负数。',
  'input.invalidBinaryEvents.en': 'Study "{name}": events cannot exceed total or be negative.',
  'input.invalidBinaryTotal.zh': '研究 "{name}"：总数必须大于 0。',
  'input.invalidBinaryTotal.en': 'Study "{name}": total must be greater than 0.',
  'input.invalidContinuousN.zh': '研究 "{name}"：样本量 (N) 必须大于 0。',
  'input.invalidContinuousN.en': 'Study "{name}": sample size (N) must be greater than 0.',
  'input.invalidContinuousSD.zh': '研究 "{name}"：标准差 (SD) 必须大于 0。',
  'input.invalidContinuousSD.en': 'Study "{name}": SD must be greater than 0.',
  'input.studyNameMissing.zh': '第 {index} 项研究缺少名称。',
  'input.studyNameMissing.en': 'Study #{index} is missing a name.',

  // Model options
  'model.random.zh': '随机效应模型 (DerSimonian-Laird)',
  'model.random.en': 'Random Effects (DerSimonian-Laird)',
  'model.fixed.zh': '固定效应模型 (逆方差法)',
  'model.fixed.en': 'Fixed Effects (Inverse Variance)',

  // PICO
  'pico.p.zh': 'P — 研究人群',
  'pico.p.en': 'P — Population / Patients',
  'pico.p.placeholder.zh': '例：成年 2 型糖尿病患者',
  'pico.p.placeholder.en': 'e.g., Adults with type 2 diabetes',
  'pico.i.zh': 'I — 干预措施',
  'pico.i.en': 'I — Intervention',
  'pico.i.placeholder.zh': '例：二甲双胍单药治疗',
  'pico.i.placeholder.en': 'e.g., Metformin monotherapy',
  'pico.c.zh': 'C — 对照组',
  'pico.c.en': 'C — Comparison',
  'pico.c.placeholder.zh': '例：安慰剂或生活方式干预',
  'pico.c.placeholder.en': 'e.g., Placebo or lifestyle modification',
  'pico.o.zh': 'O — 结局指标',
  'pico.o.en': 'O — Outcome',
  'pico.o.placeholder.zh': '例：12 周 HbA1c 下降幅度',
  'pico.o.placeholder.en': 'e.g., HbA1c reduction at 12 weeks',

  // DataTable
  'table.study.zh': '研究',
  'table.study.en': 'Study',
  'table.year.zh': '年份',
  'table.year.en': 'Year',
  'table.eventsT.zh': '事件(T)',
  'table.eventsT.en': 'Events (T)',
  'table.totalT.zh': '总数(T)',
  'table.totalT.en': 'Total (T)',
  'table.eventsC.zh': '事件(C)',
  'table.eventsC.en': 'Events (C)',
  'table.totalC.zh': '总数(C)',
  'table.totalC.en': 'Total (C)',
  'table.meanT.zh': '均值(T)',
  'table.meanT.en': 'Mean (T)',
  'table.sdT.zh': 'SD(T)',
  'table.sdT.en': 'SD (T)',
  'table.nT.zh': 'N(T)',
  'table.nT.en': 'N (T)',
  'table.meanC.zh': '均值(C)',
  'table.meanC.en': 'Mean (C)',
  'table.sdC.zh': 'SD(C)',
  'table.sdC.en': 'SD (C)',
  'table.nC.zh': 'N(C)',
  'table.nC.en': 'N (C)',
  'table.addStudy.zh': '+ 添加研究',
  'table.addStudy.en': '+ Add Study',
  'table.exportCSV.zh': '导出 CSV',
  'table.exportCSV.en': 'Export CSV',
  'table.importCSV.zh': '导入 CSV',
  'table.importCSV.en': 'Import CSV',
  'table.empty.zh': '尚未添加研究。点击"+ 添加研究"开始录入数据。',
  'table.empty.en': 'No studies added yet. Click "+ Add Study" to begin.',

  // Results
  'results.title.zh': '结果汇总',
  'results.title.en': 'Results Summary',
  'results.overallEffect.zh': '总效应量',
  'results.overallEffect.en': 'Overall Effect',
  'results.model.zh': '分析模型',
  'results.model.en': 'Model',
  'results.measure.zh': '效应指标',
  'results.measure.en': 'Effect measure',
  'results.numStudies.zh': '纳入研究数',
  'results.numStudies.en': 'Number of studies',
  'results.pooled.zh': '合并效应量',
  'results.pooled.en': 'Pooled',
  'results.heterogeneity.zh': '异质性检验',
  'results.heterogeneity.en': 'Heterogeneity',
  'results.pubBias.zh': '发表偏倚 (Egger 检验)',
  'results.pubBias.en': 'Publication Bias (Egger\'s Test)',
  'results.narrative.zh': '结果描述段落',
  'results.narrative.en': 'Narrative Summary',
  'results.noAsymmetry.zh': '未检测到显著的漏斗图不对称性。',
  'results.noAsymmetry.en': 'No significant funnel plot asymmetry detected.',
  'results.asymmetryDetected.zh': '检测到显著不对称性 — 可能存在发表偏倚。',
  'results.asymmetryDetected.en': 'Significant asymmetry detected — potential publication bias.',

  // Heterogeneity levels
  'het.low.zh': '低异质性',
  'het.low.en': 'Low heterogeneity',
  'het.moderate.zh': '中等异质性',
  'het.moderate.en': 'Moderate heterogeneity',
  'het.substantial.zh': '较高异质性',
  'het.substantial.en': 'Substantial heterogeneity',
  'het.considerable.zh': '高异质性',
  'het.considerable.en': 'Considerable heterogeneity',

  // Sensitivity
  'sensitivity.title.zh': '逐一剔除敏感性分析',
  'sensitivity.title.en': 'Leave-One-Out Sensitivity Analysis',
  'sensitivity.desc.zh': '每行显示剔除该研究后的合并效应量。高亮行表示方向或统计显著性发生改变。',
  'sensitivity.desc.en': 'Each row shows the pooled effect when that study is excluded. Highlighted rows indicate a change in direction or statistical significance.',
  'sensitivity.omitted.zh': '剔除研究',
  'sensitivity.omitted.en': 'Omitted Study',
  'sensitivity.weight.zh': '权重',
  'sensitivity.weight.en': 'Weight',
  'sensitivity.fullModel.zh': '完整模型（所有研究）',
  'sensitivity.fullModel.en': 'Full model (all studies)',
  'sensitivity.influential.zh': '* 剔除该研究会改变合并结果的方向或统计显著性。',
  'sensitivity.influential.en': '* Removing this study changes the direction or statistical significance of the pooled result.',

  // Forest Plot
  'forest.download.zh': '下载 SVG',
  'forest.download.en': 'Download SVG',
  'forest.favoursTreatment.zh': '\u2190 有利于治疗组',
  'forest.favoursTreatment.en': '\u2190 Favours treatment',
  'forest.favoursControl.zh': '有利于对照组 \u2192',
  'forest.favoursControl.en': 'Favours control \u2192',

  // PRISMA Flow
  'tab.prisma.zh': 'PRISMA 流程图',
  'tab.prisma.en': 'PRISMA Flow',
  'prisma.inputTitle.zh': '填写文献筛选数据',
  'prisma.inputTitle.en': 'Enter screening data',
  'prisma.dbRecords.zh': '数据库检索记录数',
  'prisma.dbRecords.en': 'Records from databases',
  'prisma.otherRecords.zh': '其他来源记录数',
  'prisma.otherRecords.en': 'Records from other sources',
  'prisma.duplicatesRemoved.zh': '去重后剩余记录数',
  'prisma.duplicatesRemoved.en': 'After duplicates removed',
  'prisma.recordsScreened.zh': '标题/摘要筛选记录数',
  'prisma.recordsScreened.en': 'Records screened',
  'prisma.recordsExcluded.zh': '标题/摘要排除数',
  'prisma.recordsExcluded.en': 'Records excluded',
  'prisma.fullTextAssessed.zh': '全文评估篇数',
  'prisma.fullTextAssessed.en': 'Full-text articles assessed',
  'prisma.fullTextExcluded.zh': '全文排除篇数',
  'prisma.fullTextExcluded.en': 'Full-text excluded',
  'prisma.fullTextExcludeReasons.zh': '排除原因',
  'prisma.fullTextExcludeReasons.en': 'Exclusion reasons',
  'prisma.qualSynthesis.zh': '定性纳入研究数',
  'prisma.qualSynthesis.en': 'Studies in qualitative synthesis',
  'prisma.quantSynthesis.zh': '定量纳入（Meta 分析）',
  'prisma.quantSynthesis.en': 'Studies in meta-analysis',
  'prisma.downloadSVG.zh': '下载 SVG',
  'prisma.downloadSVG.en': 'Download SVG',
  'prisma.downloadPNG.zh': '下载 PNG',
  'prisma.downloadPNG.en': 'Download PNG',
  'prisma.phase.identification.zh': '识别',
  'prisma.phase.identification.en': 'IDENTIFICATION',
  'prisma.phase.screening.zh': '筛选',
  'prisma.phase.screening.en': 'SCREENING',
  'prisma.phase.eligibility.zh': '资格评估',
  'prisma.phase.eligibility.en': 'ELIGIBILITY',
  'prisma.phase.included.zh': '纳入',
  'prisma.phase.included.en': 'INCLUDED',
  'prisma.box.dbRecords.zh': '数据库检索获得的记录',
  'prisma.box.dbRecords.en': 'Records identified through database searching',
  'prisma.box.otherRecords.zh': '其他来源获得的记录',
  'prisma.box.otherRecords.en': 'Additional records from other sources',
  'prisma.box.duplicatesRemoved.zh': '去除重复后的记录',
  'prisma.box.duplicatesRemoved.en': 'Records after duplicates removed',
  'prisma.box.recordsScreened.zh': '标题和摘要筛选',
  'prisma.box.recordsScreened.en': 'Records screened',
  'prisma.box.recordsExcluded.zh': '排除的记录',
  'prisma.box.recordsExcluded.en': 'Records excluded',
  'prisma.box.fullTextAssessed.zh': '全文评估的文章',
  'prisma.box.fullTextAssessed.en': 'Full-text articles assessed for eligibility',
  'prisma.box.fullTextExcluded.zh': '排除的全文文章',
  'prisma.box.fullTextExcluded.en': 'Full-text articles excluded',
  'prisma.box.qualSynthesis.zh': '纳入定性合成的研究',
  'prisma.box.qualSynthesis.en': 'Studies included in qualitative synthesis',
  'prisma.box.quantSynthesis.zh': '纳入定量合成 (Meta 分析)',
  'prisma.box.quantSynthesis.en': 'Studies in quantitative synthesis (meta-analysis)',

  // Subgroup Analysis
  'table.subgroup.zh': '亚组',
  'table.subgroup.en': 'Subgroup',
  'subgroup.title.zh': '亚组分析',
  'subgroup.title.en': 'Subgroup Analysis',
  'subgroup.testTitle.zh': '亚组差异检验',
  'subgroup.testTitle.en': 'Test for Subgroup Differences',
  'subgroup.qBetween.zh': '组间 Q',
  'subgroup.qBetween.en': 'Q between',
  'subgroup.subtotal.zh': '小计',
  'subgroup.subtotal.en': 'Subtotal',
  'subgroup.overall.zh': '总计',
  'subgroup.overall.en': 'Overall',
  'subgroup.significant.zh': '亚组间存在显著差异',
  'subgroup.significant.en': 'Significant difference between subgroups',
  'subgroup.notSignificant.zh': '亚组间无显著差异',
  'subgroup.notSignificant.en': 'No significant difference between subgroups',
  'subgroup.noSubgroups.zh': '未定义亚组。在数据录入中填写"亚组"列即可启用亚组分析。',
  'subgroup.noSubgroups.en': 'No subgroups defined. Fill in the "Subgroup" column in data input to enable subgroup analysis.',
  'tab.subgroup.zh': '亚组分析',
  'tab.subgroup.en': 'Subgroup',

  // Report Export
  'results.exportReport.zh': '导出分析报告',
  'results.exportReport.en': 'Export Report',

  // Literature Search Tab
  'tab.search.zh': '文献检索',
  'tab.search.en': 'PubMed Search',
  'search.title.zh': 'PubMed 文献检索',
  'search.title.en': 'PubMed Literature Search',
  'search.desc.zh': '搜索 PubMed 数据库，选择相关文献导入到数据表。导入后需手动填写效应量数据。',
  'search.desc.en': 'Search PubMed database, select relevant articles to import. You\'ll need to manually enter effect size data after import.',
  'search.placeholder.zh': '输入关键词，例：aspirin cardiovascular prevention RCT',
  'search.placeholder.en': 'Enter keywords, e.g., aspirin cardiovascular prevention RCT',
  'search.btn.zh': '检索',
  'search.btn.en': 'Search',
  'search.searching.zh': '检索中...',
  'search.searching.en': 'Searching...',
  'search.tips.zh': '检索技巧',
  'search.tips.en': 'Search Tips',
  'search.tip1.zh': 'AND / OR / NOT 组合关键词：aspirin AND (stroke OR MI)',
  'search.tip1.en': 'Combine with AND / OR / NOT: aspirin AND (stroke OR MI)',
  'search.tip2.zh': '限定字段：aspirin[Title] AND randomized[Publication Type]',
  'search.tip2.en': 'Field tags: aspirin[Title] AND randomized[Publication Type]',
  'search.tip3.zh': 'MeSH 术语：\"Aspirin\"[MeSH] AND \"Cardiovascular Diseases\"[MeSH]',
  'search.tip3.en': 'MeSH terms: \"Aspirin\"[MeSH] AND \"Cardiovascular Diseases\"[MeSH]',
  'search.found.zh': '共 {total} 篇结果（第 {from}-{to} 篇）',
  'search.found.en': '{total} results (showing {from}-{to})',
  'search.noResults.zh': '未找到相关文献。请尝试调整检索词。',
  'search.noResults.en': 'No results found. Try adjusting your search terms.',
  'search.loading.zh': '正在检索 PubMed...',
  'search.loading.en': 'Searching PubMed...',
  'search.error.zh': '检索失败，请稍后重试。',
  'search.error.en': 'Search failed. Please try again later.',
  'search.selectAll.zh': '全选',
  'search.selectAll.en': 'Select all',
  'search.import.zh': '导入 {n} 篇到数据表',
  'search.import.en': 'Import {n} to data table',
  'search.imported.zh': '已成功导入 {n} 篇文献。请前往数据录入页填写效应量数据。',
  'search.imported.en': '{n} articles imported. Please fill in effect size data in the Data Input tab.',
  'search.goToInput.zh': '前往数据录入 →',
  'search.goToInput.en': 'Go to Data Input →',
  'search.showAbstract.zh': '查看摘要 ▼',
  'search.showAbstract.en': 'Show abstract ▼',
  'search.hideAbstract.zh': '收起摘要 ▲',
  'search.hideAbstract.en': 'Hide abstract ▲',
  'search.prev.zh': '上一页',
  'search.prev.en': 'Prev',
  'search.next.zh': '下一页',
  'search.next.en': 'Next',

  // Search History
  'search.history.zh': '最近搜索',
  'search.history.en': 'Recent Searches',
  'search.clearHistory.zh': '清除',
  'search.clearHistory.en': 'Clear',

  // Advanced Search
  'search.advanced.zh': '高级搜索',
  'search.advanced.en': 'Advanced Search',
  'search.dateRange.zh': '发表年份',
  'search.dateRange.en': 'Publication Year',
  'search.articleType.zh': '文献类型',
  'search.articleType.en': 'Article Type',
  'search.articleTypeAll.zh': '全部类型',
  'search.articleTypeAll.en': 'All Types',
  'search.articleTypeRCT.zh': '随机对照试验',
  'search.articleTypeRCT.en': 'Randomized Controlled Trial',
  'search.articleTypeMeta.zh': 'Meta 分析',
  'search.articleTypeMeta.en': 'Meta-Analysis',
  'search.articleTypeSR.zh': '系统综述',
  'search.articleTypeSR.en': 'Systematic Review',
  'search.articleTypeCT.zh': '临床试验',
  'search.articleTypeCT.en': 'Clinical Trial',
  'search.language.zh': '语言',
  'search.language.en': 'Language',
  'search.langAll.zh': '全部语言',
  'search.langAll.en': 'All Languages',
  'search.langEn.zh': '英文',
  'search.langEn.en': 'English',
  'search.langZh.zh': '中文',
  'search.langZh.en': 'Chinese',
  'search.prismaUpdated.zh': 'PRISMA 流程图已自动更新：数据库检索记录数 = {n}',
  'search.prismaUpdated.en': 'PRISMA flowchart updated: database records = {n}',

  // PICO Screening
  'screening.title.zh': 'PICO 相关度筛选',
  'screening.title.en': 'PICO Relevance Screening',
  'screening.likely.zh': '可能相关',
  'screening.likely.en': 'Likely',
  'screening.maybe.zh': '不确定',
  'screening.maybe.en': 'Maybe',
  'screening.unlikely.zh': '可能无关',
  'screening.unlikely.en': 'Unlikely',
  'screening.score.zh': '相关度',
  'screening.score.en': 'Relevance',
  'screening.matched.zh': '匹配词',
  'screening.matched.en': 'Matched',
  'screening.sortByScore.zh': '按相关度排序',
  'screening.sortByScore.en': 'Sort by relevance',
  'screening.sortDefault.zh': '默认排序',
  'screening.sortDefault.en': 'Default order',
  'screening.selectLikely.zh': '选中全部"可能相关"',
  'screening.selectLikely.en': 'Select all "Likely"',
  'screening.noPICO.zh': '请先在数据录入页填写 PICO 框架，以启用智能筛选。',
  'screening.noPICO.en': 'Please fill in PICO framework in Data Input to enable screening.',
  'screening.badge.zh': 'PICO 筛选',
  'screening.badge.en': 'PICO Screen',

  // Footer
  'footer.text.zh': 'MetaReview — 开源免费的医学研究 Meta 分析平台',
  'footer.text.en': 'MetaReview — Open-source meta-analysis platform for medical research',
  'footer.feedback.zh': '意见反馈',
  'footer.feedback.en': 'Feedback',
} as const;

export function t(key: string, lang: Lang): string {
  const fullKey = `${key}.${lang}` as keyof typeof translations;
  return translations[fullKey] ?? key;
}
